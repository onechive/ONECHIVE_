<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Detail - [Project Title]</title>

    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Herr+Von+Muellerhoff&family=Imperial+Script&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="workdetail.css"> 
</head>
<body class="work-detail-page">

    <header id="main-header" style="opacity: 1; transform: translateY(0); pointer-events: auto;">
        <nav>
            <a href="index.html#hero" class="nav-link">HOME</a>
            <a href="work.html" class="nav-link">WORK</a>
            <a href="profile.html" class="nav-link">PROFILE</a>
            <a href="index.html#skills" class="nav-link">SKILLSET</a>
            <a href="index.html#showreel" class="nav-link">SHOWREEL</a>
        </nav>
    </header>

    <div id="detail-wrapper" class="detail-container">
        
        <div class="detail-info-column">
            <div class="sticky-detail-content">
                
                <div class="info-top">
                    <div class="nav-controls-single">
                        <button class="close-btn back-btn">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                        </button>
                    </div>
                    
                    <div class="small-meta">
                        <p class="meta-title">YEAR</p> 
                        <p class="meta-subtitle"></p>
                    </div>
                </div>

                <div class="info-middle">
                    <h1 class="project-title-lg"></h1>
                    <p class="project-period"></p>
                    
                    <div class="project-description-box">
                        <p class="quote"></p>
                    </div>
                </div>

                <div class="info-bottom genre-meta">
                    <p class="meta-title">ì¥ë¥´</p>
                    <div class="genre-list">
                        </div>
                    
                    <div class="view-link-container">
                        <a id="view-project-link" href="#" target="_blank" class="view-link-btn">
                            ë³´ëŸ¬ê°€ê¸° 
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-left: 8px;">
                                <line x1="7" y1="17" x2="17" y2="7"></line>
                                <polyline points="7 7 17 7 17 17"></polyline>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>

<div class="detail-content-column">
    
    <div id="video-wrapper-placeholder" class="project-media-wrapper">
        <video id="detail-video-player" controls loop muted autoplay class="project-detail-video">
            ë¸Œë¼ìš°ì €ê°€ ë¹„ë””ì˜¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        </video>
    </div>
    
    </div>

    </div>

    <footer id="contact" class="footer-section">
        <div class="footer-content">
            <div class="footer-logo"><img src="img/one_logo.png" alt="Footer Logo"></div>
            <div class="contact-info">
                <p>INSTAGRAM<br>@_onechive</p>
                <p>YOUTUBE<br>@_onechive</p>
                <p>E-MAIL<br>onechive@email.com</p>
                <p>
                    <a href="https://www.behance.net/ONECHIVE" target="_blank">
                    BEHANCE<br>@ONECHIVE
                    </a>
                </p>
            </div>
        </div>
        <div class="copyright">
            <p>Â© 2025 onechive All Rights Reserved.</p>
        </div>
    </footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
    <script src="script.js"></script>
    <script src="workdetail.js"></script> 
    
<script>
    // --- 0. Work Detail í˜ì´ì§€ ì§„ì… ì‹œ í—¤ë”/í‘¸í„° ìˆ¨ê¹€ ì²˜ë¦¬ ---
    document.getElementById('main-header').style.display = 'none';
    document.getElementById('contact').style.display = 'none'; 

    // --- 1. í˜ì´ì§€ ì§„ì… GSAP ì• ë‹ˆë©”ì´ì…˜ ---
    gsap.from("#detail-wrapper", {
        yPercent: 100, 
        duration: 0.8,
        ease: "power2.out"
    });

    // --- 2. ë’¤ë¡œ ê°€ê¸° ì• ë‹ˆë©”ì´ì…˜ ---
    document.querySelectorAll('.close-btn').forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            gsap.to("#detail-wrapper", {
                yPercent: 100,
                duration: 0.8,
                ease: "power2.inOut",
                onComplete: () => {
                    history.back();
                }
            });
        });
    });

    // --- 3. ì‘í’ˆ IDì— ë”°ë¼ ë‚´ìš© ë™ì  ì‚½ì… ë¡œì§ (ë¹„ë””ì˜¤/ì´ë¯¸ì§€ í†µí•© ë Œë”ë§) ---
    document.addEventListener('DOMContentLoaded', () => {
        
        if (typeof workDetails === 'undefined') {
             console.error("ERROR: workDetails object is not defined. Check workdetail.js file link.");
             return;
        }
        
        const urlParams = new URLSearchParams(window.location.search);
        const workId = urlParams.get('workId');
        
        // âš ï¸ workDetails ëŒ€ì‹  ì™¸ë¶€ JS íŒŒì¼ì˜ ì •í™•í•œ ë°ì´í„° ê°ì²´ ì´ë¦„(ì˜ˆ: projectDetailData)ì„ ì‚¬ìš©í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        const data = workDetails[workId]; 

        if (!data) {
            console.error("Work ID not found:", workId);
            document.getElementById('detail-wrapper').innerHTML = "<h1>ì‘í’ˆ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</h1>";
            return;
        }

        // 1. ì™¼ìª½ ê³ ì • ì •ë³´ ì—…ë°ì´íŠ¸ (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
        
        // YEAR í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
        document.querySelector('.meta-title').innerText = 'YEAR'; 
        
        // íšŒìƒ‰ ê¸°ê°„ ("1.24 ~ 1.31") ì—…ë°ì´íŠ¸
        const periodDisplay = data.period || '';
        document.querySelector('.meta-subtitle').innerHTML = periodDisplay.replace(/\n/g, '<br>');
        
        // ì¤‘ì•™ ì œëª© ì—…ë°ì´íŠ¸
        document.querySelector('.project-title-lg').innerText = data.title; 

        // íƒ„ìë‹ˆì•„ ì•„ë˜ ìˆëŠ” íšŒìƒ‰ ë‚ ì§œ(project-period) ì œê±°
        document.querySelector('.project-period').innerText = ''; 
        
        document.querySelector('.quote').innerText = data.quote;

        // ì¥ë¥´ ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ 
        const genreList = document.querySelector('.genre-list');
        genreList.innerHTML = '';
        (data.genres || []).forEach(genre => {
            const span = document.createElement('span');
            span.innerText = genre;
            genreList.appendChild(span);
        });
        
        // --- workdetail.html <script> ë‚´ë¶€ ìˆ˜ì • ---

        // [ì¶”ê°€] "ë³´ëŸ¬ê°€ê¸°" ë§í¬ ì—°ê²° ë¡œì§
        const viewLinkBtn = document.getElementById('view-project-link');
        const viewLinkContainer = document.querySelector('.view-link-container');

        if (viewLinkBtn && viewLinkContainer) {
        // ğŸ¯ ìˆ˜ì •ëœ ë¶€ë¶„: ì˜¤ì§ data.videoLink (ì™¸ë¶€ ë§í¬)ë§Œ í™•ì¸í•©ë‹ˆë‹¤.
        if (data.videoLink) {
        viewLinkBtn.href = data.videoLink;
        viewLinkContainer.style.display = 'block'; 
        } else {
        // data.video (ë¡œì»¬ ë¹„ë””ì˜¤)ê°€ ìˆì–´ë„ ë§í¬ëŠ” ìˆ¨ê¹ë‹ˆë‹¤.
        viewLinkContainer.style.display = 'none'; 
        }
        }


        // 2. ì˜¤ë¥¸ìª½ ìŠ¤í¬ë¡¤ ì½˜í…ì¸  ì—…ë°ì´íŠ¸ (ë¹„ë””ì˜¤ + ì´ë¯¸ì§€ í†µí•© ë Œë”ë§)
        const contentColumn = document.querySelector('.detail-content-column');
        contentColumn.innerHTML = ''; // ê¸°ì¡´ ì½˜í…ì¸ ë¥¼ ë¹„ì›€.

        
        // ë¹„ë””ì˜¤ ë Œë”ë§ ë¡œì§ (ì´ë¯¸ì§€ë³´ë‹¤ ë¨¼ì € ë Œë”ë§)
        if (data.video) {
            const videoWrapper = document.createElement('div');
            // CSS ì ìš©ì„ ìœ„í•´ í´ë˜ìŠ¤ ì¶”ê°€
            videoWrapper.classList.add('project-media-wrapper'); 
            videoWrapper.classList.add('detail-block'); // ì´ë¯¸ì§€ì™€ ë™ì¼í•œ ë§ˆì§„ì„ ìœ„í•´ detail-blockë„ ì¶”ê°€

            const videoElement = document.createElement('video');
            videoElement.src = data.video.src;
            videoElement.alt = data.video.alt;
            videoElement.controls = true;
            videoElement.loop = true;
            videoElement.muted = true;
            videoElement.autoplay = true; 
            videoElement.classList.add('project-detail-video');
            
            videoWrapper.appendChild(videoElement);
            contentColumn.appendChild(videoWrapper); // ì»¬ëŸ¼ì— ë¹„ë””ì˜¤ ì‚½ì…
        }


        // ì´ë¯¸ì§€ ë Œë”ë§ ë¡œì§ (ê¸°ì¡´ ë¡œì§ ìˆ˜ì •)
        (data.images || []).forEach(image => {
            const block = document.createElement('div');
            block.classList.add('detail-block');
            
            block.innerHTML = `<img src="${image.src}" alt="${image.alt}">`;
            contentColumn.appendChild(block);
        });
        
        // ë§ˆì§€ë§‰ ìŠ¤í¬ë¡¤ ê³µê°„ í™•ë³´
        const finalSpace = document.createElement('div');
        finalSpace.classList.add('final-space');
        contentColumn.appendChild(finalSpace);

        document.title = `Work Detail - ${data.title}`;
    });
</script>

</body>
</html>
